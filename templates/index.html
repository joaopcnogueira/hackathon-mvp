{% extends "base.html" %}

{% block title %}Home - AutoML Platform{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col">
        <h1><i class="bi bi-robot"></i> AutoML Platform</h1>
        <p class="lead">Treine modelos de Machine Learning de forma automática</p>
    </div>
</div>

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="bi bi-upload display-4 text-primary"></i>
                <h5 class="card-title mt-3">1. Upload do Dataset</h5>
                <p class="card-text">Faça upload do seu arquivo CSV ou Excel para começar.</p>
                <a href="/datasets/upload" class="btn btn-primary">
                    <i class="bi bi-cloud-upload"></i> Upload
                </a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="bi bi-gear display-4 text-success"></i>
                <h5 class="card-title mt-3">2. Treine Modelos</h5>
                <p class="card-text">Configure e execute o treinamento automático de modelos.</p>
                <a href="/experiments/new" class="btn btn-success">
                    <i class="bi bi-play-circle"></i> Novo Experimento
                </a>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card h-100">
            <div class="card-body text-center">
                <i class="bi bi-rocket-takeoff display-4 text-info"></i>
                <h5 class="card-title mt-3">3. Deploy</h5>
                <p class="card-text">Faça deploy do melhor modelo via API ou Batch.</p>
                <a href="/experiments" class="btn btn-info">
                    <i class="bi bi-list"></i> Ver Experimentos
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <i class="bi bi-database"></i> Datasets Recentes
            </div>
            <div class="card-body">
                {% if datasets %}
                    <div class="list-group list-group-flush">
                        {% for dataset in datasets[:5] %}
                            <a href="/datasets/{{ dataset.id }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                {{ dataset.name }}
                                <span class="badge bg-secondary">{{ dataset.num_rows }} linhas</span>
                            </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted mb-0">Nenhum dataset cadastrado ainda.</p>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <i class="bi bi-graph-up"></i> Experimentos Recentes
            </div>
            <div class="card-body">
                {% if experiments %}
                    <div class="list-group list-group-flush">
                        {% for exp in experiments[:5] %}
                            <a href="/experiments/{{ exp.id }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                {{ exp.name }}
                                <span class="badge bg-{{ 'success' if exp.status.value == 'completed' else 'warning' if exp.status.value == 'training' else 'secondary' }}">
                                    {{ exp.status.value }}
                                </span>
                            </a>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted mb-0">Nenhum experimento criado ainda.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
